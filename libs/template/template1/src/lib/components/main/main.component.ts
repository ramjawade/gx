/* eslint-disable @typescript-eslint/no-empty-function */
import { AfterContentInit, AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';
import { Router } from '@angular/router';
import { filter, map, withLatestFrom } from 'rxjs/operators';
import { HandGesture } from '../../hand-gesture.service';

@Component({
  selector: 'gx-main',
  templateUrl: './main.component.html',
  styleUrls: ['./main.component.scss']
})
export class MainComponent implements OnInit, AfterViewInit {
  typesOfShoes = [
    {
      "name": "Create user",
      "route": "user-mgt/create"
    }, {
      name: "List User",
      route: "user-mgt/list"
    }

  ]

  opened = true;
  svg = `<svg width="185" height="40" viewBox="0 0 185 40" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M32.8125 4.21924C34.4375 4.21924 35.9687 4.53174 37.4062 5.15674C38.8437 5.75049 40.0781 6.57861 41.1094 7.64111C42.1719 8.67236 43 9.90674 43.5938 11.3442C44.2188 12.7817 44.5312 14.313 44.5312 15.938V27.6567H42.1875V15.938C42.1875 14.6567 41.9375 13.4536 41.4375 12.3286C40.9375 11.1724 40.2656 10.1724 39.4219 9.32861C38.5781 8.48486 37.5781 7.81299 36.4219 7.31299C35.2969 6.81299 34.0938 6.56299 32.8125 6.56299C31.5312 6.56299 30.3125 6.81299 29.1562 7.31299C28.0312 7.81299 27.0469 8.48486 26.2031 9.32861C25.3594 10.1724 24.6875 11.1724 24.1875 12.3286C23.6875 13.4536 23.4375 14.6567 23.4375 15.938V27.6567H21.0937V15.938C21.0937 14.6567 20.8438 13.4536 20.3438 12.3286C19.8438 11.1724 19.1719 10.1724 18.3281 9.32861C17.4844 8.48486 16.4844 7.81299 15.3281 7.31299C14.2031 6.81299 13 6.56299 11.7187 6.56299C10.4375 6.56299 9.21875 6.81299 8.0625 7.31299C6.9375 7.81299 5.95312 8.48486 5.10937 9.32861C4.26562 10.1724 3.59375 11.1724 3.09375 12.3286C2.59375 13.4536 2.34375 14.6567 2.34375 15.938V27.6567H0V15.938C0 14.313 0.3125 12.7817 0.9375 11.3442C1.5625 9.90674 2.40625 8.67236 3.46875 7.64111C4.5625 6.57861 5.8125 5.75049 7.21875 5.15674C8.625 4.53174 10.125 4.21924 11.7187 4.21924C12.875 4.21924 13.9844 4.39111 15.0469 4.73486C16.1406 5.04736 17.1406 5.50049 18.0469 6.09424C18.9531 6.68799 19.7656 7.39111 20.4844 8.20361C21.2031 8.98486 21.7969 9.84424 22.2656 10.7817C22.7344 9.84424 23.3281 8.98486 24.0469 8.20361C24.7969 7.39111 25.625 6.68799 26.5312 6.09424C27.4688 5.50049 28.4687 5.04736 29.5312 4.73486C30.5937 4.39111 31.6875 4.21924 32.8125 4.21924Z" fill="#C643D8"/>
  <path d="M60.4687 25.3125C62.4687 25.3125 64.2344 24.7812 65.7656 23.7187C67.2969 22.6562 68.4219 21.2344 69.1406 19.4531H71.7187C71.3125 20.6406 70.7344 21.7344 69.9844 22.7344C69.2656 23.7344 68.4062 24.5937 67.4062 25.3125C66.4375 26.0312 65.3594 26.6094 64.1719 27.0469C62.9844 27.4531 61.75 27.6562 60.4687 27.6562C58.8125 27.6562 57.2656 27.3594 55.8281 26.7656C54.4219 26.1406 53.1875 25.3125 52.125 24.2812C51.0937 23.2187 50.2656 21.9844 49.6406 20.5781C49.0469 19.1406 48.75 17.5937 48.75 15.9375C48.75 14.3125 49.0469 12.7812 49.6406 11.3437C50.2656 9.90625 51.0937 8.67187 52.125 7.64062C53.1875 6.57812 54.4219 5.75 55.8281 5.15625C57.2656 4.53125 58.8125 4.21875 60.4687 4.21875C62.0937 4.21875 63.625 4.53125 65.0625 5.15625C66.5 5.75 67.7344 6.57812 68.7656 7.64062C69.8281 8.67187 70.6562 9.90625 71.25 11.3437C71.875 12.7812 72.1875 14.3125 72.1875 15.9375V17.1094H51.0937C51.2812 18.2969 51.6406 19.3906 52.1719 20.3906C52.7344 21.3906 53.4375 22.25 54.2812 22.9687C55.125 23.6875 56.0625 24.2656 57.0937 24.7031C58.1562 25.1094 59.2812 25.3125 60.4687 25.3125ZM60.4687 6.5625C59.2812 6.5625 58.1562 6.78125 57.0937 7.21875C56.0625 7.625 55.125 8.1875 54.2812 8.90625C53.4375 9.625 52.7344 10.5 52.1719 11.5312C51.6406 12.5312 51.2812 13.6094 51.0937 14.7656H69.8437C69.6562 13.6094 69.2812 12.5312 68.7188 11.5312C68.1875 10.5 67.5 9.625 66.6562 8.90625C65.8125 8.1875 64.8594 7.625 63.7969 7.21875C62.7344 6.78125 61.625 6.5625 60.4687 6.5625Z" fill="#EE6054"/>
  <path d="M100.312 27.6562C100.312 29.25 100 30.75 99.375 32.1562C98.7812 33.5625 97.9531 34.7969 96.8906 35.8594C95.8594 36.9531 94.625 37.8125 93.1875 38.4375C91.75 39.0625 90.2187 39.375 88.5937 39.375C87 39.375 85.5 39.0625 84.0938 38.4375C82.6875 37.8125 81.4375 36.9531 80.3437 35.8594C79.2812 34.7969 78.4375 33.5625 77.8125 32.1562C77.1875 30.75 76.875 29.25 76.875 27.6562H79.2187C79.2187 28.9375 79.4687 30.1406 79.9687 31.2656C80.4687 32.4219 81.1406 33.4219 81.9844 34.2656C82.8281 35.1094 83.8125 35.7813 84.9375 36.2812C86.0937 36.7812 87.3125 37.0312 88.5937 37.0312C89.9375 37.0312 91.1719 36.7812 92.2969 36.2812C93.4531 35.7813 94.4531 35.1094 95.2969 34.2656C96.1406 33.4219 96.7969 32.4219 97.2656 31.2656C97.7344 30.1406 97.9687 28.9375 97.9687 27.6562V22.9688C96.9062 24.375 95.5781 25.5156 93.9844 26.3906C92.3906 27.2344 90.5937 27.6562 88.5937 27.6562C87 27.6562 85.5 27.3594 84.0938 26.7656C82.6875 26.1406 81.4375 25.3125 80.3437 24.2812C79.2812 23.2187 78.4375 21.9844 77.8125 20.5781C77.1875 19.1406 76.875 17.5938 76.875 15.9375C76.875 14.3125 77.1875 12.7812 77.8125 11.3437C78.4375 9.90625 79.2812 8.67187 80.3437 7.64062C81.4375 6.57812 82.6875 5.75 84.0938 5.15625C85.5 4.53125 87 4.21875 88.5937 4.21875C90.2187 4.21875 91.75 4.53125 93.1875 5.15625C94.625 5.75 95.8594 6.57812 96.8906 7.64062C97.9531 8.67187 98.7812 9.90625 99.375 11.3437C100 12.7812 100.312 14.3125 100.312 15.9375V27.6562ZM88.5937 25.3125C89.9375 25.3125 91.1719 25.0625 92.2969 24.5625C93.4531 24.0625 94.4531 23.3906 95.2969 22.5469C96.1406 21.7031 96.7969 20.7188 97.2656 19.5938C97.7344 18.4375 97.9687 17.2188 97.9687 15.9375C97.9687 14.6562 97.7344 13.4531 97.2656 12.3281C96.7969 11.1719 96.1406 10.1719 95.2969 9.32812C94.4531 8.48437 93.4531 7.8125 92.2969 7.3125C91.1719 6.8125 89.9375 6.5625 88.5937 6.5625C87.3125 6.5625 86.0937 6.8125 84.9375 7.3125C83.8125 7.8125 82.8281 8.48437 81.9844 9.32812C81.1406 10.1719 80.4687 11.1719 79.9687 12.3281C79.4687 13.4531 79.2187 14.6562 79.2187 15.9375C79.2187 17.2188 79.4687 18.4375 79.9687 19.5938C80.4687 20.7188 81.1406 21.7031 81.9844 22.5469C82.8281 23.3906 83.8125 24.0625 84.9375 24.5625C86.0937 25.0625 87.3125 25.3125 88.5937 25.3125Z" fill="#34C6C3"/>
  <path d="M105 15.9375C105 14.3125 105.297 12.7813 105.891 11.3438C106.516 9.90625 107.344 8.67188 108.375 7.64063C109.437 6.57813 110.672 5.75 112.078 5.15625C113.516 4.53125 115.062 4.21875 116.719 4.21875C118.594 4.21875 120.359 4.65625 122.016 5.53125C123.672 6.375 125.031 7.5 126.094 8.90625V0H128.437V15.9375C128.437 17.5938 128.125 19.1406 127.5 20.5781C126.906 21.9844 126.078 23.2188 125.016 24.2813C123.984 25.3125 122.75 26.1406 121.312 26.7656C119.875 27.3594 118.344 27.6563 116.719 27.6563C115.062 27.6563 113.516 27.3594 112.078 26.7656C110.672 26.1406 109.437 25.3125 108.375 24.2813C107.344 23.2188 106.516 21.9844 105.891 20.5781C105.297 19.1406 105 17.5938 105 15.9375ZM107.344 15.9375C107.344 17.2188 107.594 18.4375 108.094 19.5938C108.594 20.7188 109.266 21.7031 110.109 22.5469C110.953 23.3906 111.937 24.0625 113.062 24.5625C114.219 25.0625 115.437 25.3125 116.719 25.3125C118 25.3125 119.203 25.0625 120.328 24.5625C121.484 24.0625 122.484 23.3906 123.328 22.5469C124.172 21.7031 124.844 20.7188 125.344 19.5938C125.844 18.4375 126.094 17.2188 126.094 15.9375C126.094 14.6563 125.844 13.4531 125.344 12.3281C124.844 11.1719 124.172 10.1719 123.328 9.32812C122.484 8.48438 121.484 7.8125 120.328 7.3125C119.203 6.8125 118 6.5625 116.719 6.5625C115.437 6.5625 114.219 6.8125 113.062 7.3125C111.937 7.8125 110.953 8.48438 110.109 9.32812C109.266 10.1719 108.594 11.1719 108.094 12.3281C107.594 13.4531 107.344 14.6563 107.344 15.9375Z" fill="#22A4EE"/>
  <path d="M144.844 4.21875C146.469 4.21875 148 4.53125 149.438 5.15625C150.875 5.75 152.109 6.57812 153.141 7.64062C154.203 8.67187 155.031 9.90625 155.625 11.3437C156.25 12.7812 156.562 14.3125 156.562 15.9375V27.6562H154.219V22.9687C153.156 24.375 151.797 25.5156 150.141 26.3906C148.484 27.2344 146.719 27.6562 144.844 27.6562C143.187 27.6562 141.641 27.3594 140.203 26.7656C138.797 26.1406 137.562 25.3125 136.5 24.2812C135.469 23.2187 134.641 21.9844 134.016 20.5781C133.422 19.1406 133.125 17.5937 133.125 15.9375C133.125 14.3125 133.422 12.7812 134.016 11.3437C134.641 9.90625 135.469 8.67187 136.5 7.64062C137.562 6.57812 138.797 5.75 140.203 5.15625C141.641 4.53125 143.187 4.21875 144.844 4.21875ZM144.844 25.3125C146.125 25.3125 147.328 25.0625 148.453 24.5625C149.609 24.0625 150.609 23.3906 151.453 22.5469C152.297 21.7031 152.969 20.7187 153.469 19.5937C153.969 18.4375 154.219 17.2187 154.219 15.9375C154.219 14.6562 153.969 13.4531 153.469 12.3281C152.969 11.1719 152.297 10.1719 151.453 9.32812C150.609 8.48437 149.609 7.8125 148.453 7.3125C147.328 6.8125 146.125 6.5625 144.844 6.5625C143.562 6.5625 142.344 6.8125 141.188 7.3125C140.062 7.8125 139.078 8.48437 138.234 9.32812C137.391 10.1719 136.719 11.1719 136.219 12.3281C135.719 13.4531 135.469 14.6562 135.469 15.9375C135.469 17.2187 135.719 18.4375 136.219 19.5937C136.719 20.7187 137.391 21.7031 138.234 22.5469C139.078 23.3906 140.062 24.0625 141.188 24.5625C142.344 25.0625 143.562 25.3125 144.844 25.3125Z" fill="#78CF4D"/>
  <path d="M184.687 15.9375C184.687 17.5938 184.375 19.1406 183.75 20.5781C183.125 21.9844 182.266 23.2187 181.172 24.2812C180.109 25.3125 178.875 26.1406 177.469 26.7656C176.062 27.3594 174.562 27.6562 172.969 27.6562C170.969 27.6562 169.172 27.2344 167.578 26.3906C165.984 25.5156 164.656 24.375 163.594 22.9688V40H161.25V15.9375C161.25 14.3125 161.547 12.7812 162.141 11.3437C162.766 9.90625 163.594 8.67187 164.625 7.64062C165.687 6.57812 166.922 5.75 168.328 5.15625C169.766 4.53125 171.312 4.21875 172.969 4.21875C174.562 4.21875 176.062 4.53125 177.469 5.15625C178.875 5.75 180.109 6.57812 181.172 7.64062C182.266 8.67187 183.125 9.90625 183.75 11.3437C184.375 12.7812 184.687 14.3125 184.687 15.9375ZM182.344 15.9375C182.344 14.6562 182.094 13.4531 181.594 12.3281C181.094 11.1719 180.422 10.1719 179.578 9.32812C178.734 8.48437 177.734 7.8125 176.578 7.3125C175.453 6.8125 174.25 6.5625 172.969 6.5625C171.687 6.5625 170.469 6.8125 169.312 7.3125C168.187 7.8125 167.203 8.48437 166.359 9.32812C165.516 10.1719 164.844 11.1719 164.344 12.3281C163.844 13.4531 163.594 14.6562 163.594 15.9375C163.594 17.2188 163.844 18.4375 164.344 19.5938C164.844 20.7188 165.516 21.7031 166.359 22.5469C167.203 23.3906 168.187 24.0625 169.312 24.5625C170.469 25.0625 171.687 25.3125 172.969 25.3125C174.25 25.3125 175.453 25.0625 176.578 24.5625C177.734 24.0625 178.734 23.3906 179.578 22.5469C180.422 21.7031 181.094 20.7188 181.594 19.5938C182.094 18.4375 182.344 17.2188 182.344 15.9375Z" fill="#E8B922"/>
  </svg>`

  @ViewChild('video') video: ElementRef<HTMLVideoElement>;
  @ViewChild('canvas') canvas: ElementRef<HTMLCanvasElement>;
  @ViewChild('home') homeLink: ElementRef<HTMLAnchorElement>;
  @ViewChild('about') aboutLink: ElementRef<HTMLAnchorElement>;

  opened$ = this._recognizer.swipe$.pipe(
    filter((value) => value === 'left' || value === 'right'),
    map((value) => value === 'right')
  );

  selection$ = this._recognizer.gesture$.pipe(
    filter((value) => value === 'one' || value === 'two'),
    map((value) => (value === 'one' ? 'home' : 'about'))
  );
  constructor(private _recognizer: HandGesture, private _router: Router) {
    this._recognizer.gesture$
      .pipe(
        filter((value) => value === 'ok'),
        withLatestFrom(this.selection$)
      )
      .subscribe(([_, page]) => this._router.navigateByUrl(page));
  }

  get stream(): MediaStream {
    return this._recognizer.stream;
  }

  ngOnInit(): void {
  }

  ngAfterViewInit(): void {
    this._recognizer.initialize(
      this.canvas.nativeElement,
      this.video.nativeElement
    );
  }
  close(){
    this.opened = false;
  }
  open(){
    this.opened= true;
  }

}
